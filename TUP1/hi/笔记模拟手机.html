<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>清新笔记应用</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Microsoft YaHei", sans-serif;
        }
        
        body {
            background-color: #ffffff;
            color: #333333;
            max-width: 480px;
            margin: 0 auto;
            position: relative;
            min-height: 100vh;
            padding-bottom: 70px;
        }
        
        /* 状态栏样式 */
        .status-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 16px;
            background-color: #ffffff;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .status-left {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .status-right {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .status-icon {
            width: 16px;
            height: 16px;
            background-color: #e0e0e0;
            border-radius: 50%;
        }
        
        .battery {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .battery-icon {
            width: 20px;
            height: 10px;
            border: 1px solid #333;
            border-radius: 2px;
            position: relative;
        }
        
        .battery-icon::after {
            content: '';
            position: absolute;
            right: -4px;
            top: 2px;
            width: 3px;
            height: 4px;
            background-color: #333;
            border-radius: 0 1px 1px 0;
        }
        
        .battery-level {
            width: 80%;
            height: 100%;
            background-color: #333;
        }
        
        /* 标题区域 */
        .header {
            padding: 20px 16px 12px;
            position: relative;
        }
        
        .app-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 12px;
        }
        
        .categories-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .categories {
            display: flex;
            gap: 16px;
            overflow-x: auto;
            padding-bottom: 8px;
            flex: 1;
        }
        
        .category {
            color: #888888;
            font-size: 14px;
            white-space: nowrap;
            padding: 4px 0;
            position: relative;
            cursor: pointer;
        }
        
        .category.active {
            color: #333333;
            font-weight: 500;
        }
        
        .category.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #FFC107;
        }
        
        .add-category-btn {
            background: none;
            border: none;
            color: #888888;
            font-size: 18px;
            cursor: pointer;
            padding: 4px 8px;
        }
        
        /* 笔记卡片区域 */
        .notes-container {
            padding: 0 16px;
        }
        
        .note-card {
            background-color: #ffffff;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .note-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .note-title {
            font-size: 16px;
            font-weight: 500;
        }
        
        .note-date {
            font-size: 12px;
            color: #888888;
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .date-icon {
            color: #FFC107;
            font-size: 14px;
        }
        
        .note-content {
            font-size: 14px;
            color: #666666;
            line-height: 1.5;
            margin-bottom: 12px;
        }
        
        .note-stats {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #888888;
        }
        
        .note-image {
            width: 100%;
            height: 150px;
            background-color: #f0f0f0;
            border-radius: 8px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888888;
            font-size: 14px;
        }
        
        /* 底部导航 */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #ffffff;
            border-top: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            max-width: 480px;
            margin: 0 auto;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            color: #888888;
            font-size: 12px;
            cursor: pointer;
        }
        
        .nav-item.active {
            color: #333333;
        }
        
        .nav-icon {
            font-size: 20px;
        }
        
        /* 新建按钮 */
        .add-button {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 56px;
            height: 56px;
            background-color: #FFC107;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(255, 193, 7, 0.3);
            cursor: pointer;
            z-index: 100;
        }
        
        .add-icon {
            color: white;
            font-size: 28px;
            font-weight: bold;
        }
        
        /* 模态框样式 */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        
        .modal.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal-content {
            background-color: white;
            width: 90%;
            max-width: 400px;
            border-radius: 16px;
            padding: 24px;
            transform: translateY(20px);
            transition: transform 0.3s;
        }
        
        .modal.active .modal-content {
            transform: translateY(0);
        }
        
        .modal-title {
            font-size: 20px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 16px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: #666;
        }
        
        .form-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .form-textarea {
            width: 100%;
            height: 150px;
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            resize: vertical;
        }
        
        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            border: none;
        }
        
        .btn-cancel {
            background-color: #f0f0f0;
            color: #333;
        }
        
        .btn-save {
            background-color: #FFC107;
            color: white;
        }
        
        /* 分类管理样式 */
        .category-modal-content {
            background-color: white;
            width: 90%;
            max-width: 400px;
            border-radius: 16px;
            padding: 24px;
            transform: translateY(20px);
            transition: transform 0.3s;
        }
        
        .category-list {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 10px;
        }
        
        .category-item {
            padding: 8px 12px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .category-item:hover {
            background-color: #f9f9f9;
        }
        
        .category-item.active {
            background-color: #fff8e1;
        }
        
        .delete-category {
            color: #ff6b6b;
            font-size: 14px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- 状态栏 -->
    <div class="status-bar">
        <div class="status-left">
            <span>1:20</span>
            <div class="status-icon"></div>
            <div class="status-icon"></div>
        </div>
        <div class="status-right">
            <span>5G</span>
            <span>8.84 KB/s</span>
            <div class="battery">
                <div class="battery-icon">
                    <div class="battery-level"></div>
                </div>
                <span>96%</span>
            </div>
        </div>
    </div>
    
    <!-- 标题区域 -->
    <div class="header">
        <h1 class="app-title">笔记</h1>
        <div class="categories-container">
            <div class="categories">
                <div class="category active">原神地图，默默</div>
                <div class="category">ksaiso4.0纳西妲，水神</div>
                <div class="category">未分类</div>
            </div>
            <button class="add-category-btn" id="addCategoryBtn">+</button>
        </div>
    </div>
    
    <!-- 笔记卡片区域 -->
    <div class="notes-container">
        <!-- 笔记卡片 1 -->
        <div class="note-card">
            <div class="note-header">
                <div class="note-title">风龙废墟探索笔记</div>
                <div class="note-date">
                    <span class="date-icon">★</span>
                    <span>2023-11-15</span>
                </div>
            </div>
            <div class="note-content">
                风龙废墟位于蒙德城西北方向，主要包含三个区域：高塔、废墟和秘境...
            </div>
            <div class="note-stats">
                <span>字数: 356</span>
                <span>标签: 蒙德, 探索</span>
            </div>
        </div>
        
        <!-- 笔记卡片 2 -->
        <div class="note-card">
            <div class="note-header">
                <div class="note-title">纳西妲角色分析</div>
                <div class="note-date">
                    <span class="date-icon">★</span>
                    <span>2023-11-10</span>
                </div>
            </div>
            <div class="note-image">角色技能分析图表</div>
            <div class="note-content">
                纳西妲作为草元素法师，拥有强大的元素反应能力...
            </div>
            <div class="note-stats">
                <span>字数: 421</span>
                <span>标签: 须弥, 角色</span>
            </div>
        </div>
        
        <!-- 笔记卡片 3 -->
        <div class="note-card">
            <div class="note-header">
                <div class="note-title">水神芙卡洛斯攻略</div>
                <div class="note-date">
                    <span class="date-icon">★</span>
                    <span>2023-11-05</span>
                </div>
            </div>
            <div class="note-content">
                水神芙卡洛斯是枫丹地区的重要角色，掌握着强大的水元素力量...
            </div>
            <div class="note-stats">
                <span>字数: 287</span>
                <span>标签: 枫丹, 攻略</span>
            </div>
        </div>
        
        <!-- 笔记卡片 4 -->
        <div class="note-card">
            <div class="note-header">
                <div class="note-title">璃月地图宝箱位置</div>
                <div class="note-date">
                    <span class="date-icon">★</span>
                    <span>2023-11-01</span>
                </div>
            </div>
            <div class="note-image">璃月地区地图</div>
            <div class="note-content">
                璃月地区共有128个宝箱，其中珍贵宝箱23个...
            </div>
            <div class="note-stats">
                <span>字数: 512</span>
                <span>标签: 璃月, 探索</span>
            </div>
        </div>
    </div>
    
    <!-- 底部导航 -->
    <div class="bottom-nav">
        <div class="nav-item active">
            <div class="nav-icon">≡</div>
            <div>笔记</div>
        </div>
        <div class="nav-item">
            <div class="nav-icon">✓</div>
            <div>待办</div>
        </div>
    </div>
    
    <!-- 新建按钮 -->
    <div class="add-button" id="addNoteButton">
        <div class="add-icon">+</div>
    </div>
    
    <!-- 新建笔记模态框 -->
    <div class="modal" id="noteModal">
        <div class="modal-content">
            <h2 class="modal-title">新建笔记</h2>
            <div class="form-group">
                <label class="form-label">标题</label>
                <input type="text" class="form-input" id="noteTitle" placeholder="输入笔记标题">
            </div>
            <div class="form-group">
                <label class="form-label">内容</label>
                <textarea class="form-textarea" id="noteContent" placeholder="输入笔记内容"></textarea>
            </div>
            <div class="form-group">
                <label class="form-label">分类</label>
                <select class="form-input" id="noteCategory">
                    <option value="原神地图，默默">原神地图，默默</option>
                    <option value="ksaiso4.0纳西妲，水神">ksaiso4.0纳西妲，水神</option>
                    <option value="未分类">未分类</option>
                </select>
            </div>
            <div class="form-actions">
                <button class="btn btn-cancel" id="cancelBtn">取消</button>
                <button class="btn btn-save" id="saveBtn">保存</button>
            </div>
        </div>
    </div>
    
    <!-- 分类管理模态框 -->
    <div class="modal" id="categoryModal">
        <div class="category-modal-content">
            <h2 class="modal-title">管理分类</h2>
            
            <div class="form-group">
                <label class="form-label">新建分类</label>
                <div class="form-input-container" style="display: flex;">
                    <input type="text" class="form-input" id="newCategoryName" placeholder="输入新分类名称" style="flex: 1; border-right: none; border-top-right-radius: 0; border-bottom-right-radius: 0;">
                    <button class="btn btn-save" id="addNewCategoryBtn" style="border-top-left-radius: 0; border-bottom-left-radius: 0;">添加</button>
                </div>
            </div>
            
            <div class="category-list">
                <div class="category-item active">
                    <span>原神地图，默默</span>
                    <span class="delete-category">删除</span>
                </div>
                <div class="category-item">
                    <span>ksaiso4.0纳西妲，水神</span>
                    <span class="delete-category">删除</span>
                </div>
                <div class="category-item">
                    <span>未分类</span>
                    <span class="delete-category">删除</span>
                </div>
            </div>
            
            <div class="form-actions">
                <button class="btn btn-cancel" id="closeCategoryModal">关闭</button>
            </div>
        </div>
    </div>
    
    <script>
        // DOM元素
        const addButton = document.getElementById('addNoteButton');
        const noteModal = document.getElementById('noteModal');
        const cancelBtn = document.getElementById('cancelBtn');
        const saveBtn = document.getElementById('saveBtn');
        const noteTitle = document.getElementById('noteTitle');
        const noteContent = document.getElementById('noteContent');
        const noteCategory = document.getElementById('noteCategory');
        const categoriesContainer = document.querySelector('.categories');
        const addCategoryBtn = document.getElementById('addCategoryBtn');
        const categoryModal = document.getElementById('categoryModal');
        const newCategoryName = document.getElementById('newCategoryName');
        const addNewCategoryBtn = document.getElementById('addNewCategoryBtn');
        const closeCategoryModal = document.getElementById('closeCategoryModal');
        const categoryList = document.querySelector('.category-list');
        const notesContainer = document.querySelector('.notes-container');
        
        // 分类数据
        let categories = [
            { name: '原神地图，默默', active: true },
            { name: 'ksaiso4.0纳西妲，水神', active: false },
            { name: '未分类', active: false }
        ];
        
        // 笔记数据
        let notes = [
            {
                title: '风龙废墟探索笔记',
                date: '2023-11-15',
                content: '风龙废墟位于蒙德城西北方向，主要包含三个区域：高塔、废墟和秘境...',
                category: '原神地图，默默',
                stats: { words: 356, tags: '蒙德, 探索' }
            },
            {
                title: '纳西妲角色分析',
                date: '2023-11-10',
                content: '纳西妲作为草元素法师，拥有强大的元素反应能力...',
                category: 'ksaiso4.0纳西妲，水神',
                stats: { words: 421, tags: '须弥, 角色' },
                hasImage: true
            },
            {
                title: '水神芙卡洛斯攻略',
                date: '2023-11-05',
                content: '水神芙卡洛斯是枫丹地区的重要角色，掌握着强大的水元素力量...',
                category: 'ksaiso4.0纳西妲，水神',
                stats: { words: 287, tags: '枫丹, 攻略' }
            },
            {
                title: '璃月地图宝箱位置',
                date: '2023-11-01',
                content: '璃月地区共有128个宝箱，其中珍贵宝箱23个...',
                category: '原神地图，默默',
                stats: { words: 512, tags: '璃月, 探索' },
                hasImage: true
            }
        ];
        
        // 初始化应用
        function initApp() {
            renderCategories();
            renderNotes();
        }
        
        // 渲染分类
        function renderCategories() {
            categoriesContainer.innerHTML = '';
            
            categories.forEach(category => {
                const categoryEl = document.createElement('div');
                categoryEl.className = `category ${category.active ? 'active' : ''}`;
                categoryEl.textContent = category.name;
                categoryEl.dataset.name = category.name;
                
                categoryEl.addEventListener('click', () => {
                    setActiveCategory(category.name);
                    renderNotes();
                });
                
                categoriesContainer.appendChild(categoryEl);
            });
        }
        
        // 设置活动分类
        function setActiveCategory(categoryName) {
            categories.forEach(category => {
                category.active = category.name === categoryName;
            });
            renderCategories();
        }
        
        // 渲染笔记
        function renderNotes() {
            notesContainer.innerHTML = '';
            
            const activeCategory = categories.find(c => c.active);
            const filteredNotes = activeCategory ? 
                notes.filter(note => note.category === activeCategory.name) : 
                notes;
            
            filteredNotes.forEach(note => {
                const noteCard = document.createElement('div');
                noteCard.className = 'note-card';
                
                noteCard.innerHTML = `
                    <div class="note-header">
                        <div class="note-title">${note.title}</div>
                        <div class="note-date">
                            <span class="date-icon">★</span>
                            <span>${note.date}</span>
                        </div>
                    </div>
                    ${note.hasImage ? '<div class="note-image">笔记图片</div>' : ''}
                    <div class="note-content">${note.content}</div>
                    <div class="note-stats">
                        <span>字数: ${note.stats.words}</span>
                        <span>标签: ${note.stats.tags}</span>
                    </div>
                `;
                
                noteCard.addEventListener('click', () => {
                    alert(`打开笔记: ${note.title}`);
                });
                
                notesContainer.appendChild(noteCard);
            });
        }
        
        // 打开新建笔记模态框
        addButton.addEventListener('click', () => {
            noteModal.classList.add('active');
        });
        
        // 关闭模态框
        function closeModal() {
            noteModal.classList.remove('active');
            // 清空表单
            noteTitle.value = '';
            noteContent.value = '';
            noteCategory.value = categories[0].name;
        }
        
        // 取消按钮
        cancelBtn.addEventListener('click', closeModal);
        
        // 保存笔记
        saveBtn.addEventListener('click', () => {
            const title = noteTitle.value.trim();
            const content = noteContent.value.trim();
            const category = noteCategory.value;
            
            if (!title) {
                alert('请输入笔记标题');
                return;
            }
            
            if (!content) {
                alert('请输入笔记内容');
                return;
            }
            
            // 创建新笔记
            const newNote = {
                title: title,
                date: new Date().toISOString().split('T')[0],
                content: content,
                category: category,
                stats: {
                    words: content.length,
                    tags: category
                }
            };
            
            // 添加到笔记列表
            notes.unshift(newNote);
            
            // 关闭模态框
            closeModal();
            
            // 重新渲染笔记
            renderNotes();
        });
        
        // 打开分类管理模态框
        addCategoryBtn.addEventListener('click', () => {
            renderCategoryList();
            categoryModal.classList.add('active');
        });
        
        // 关闭分类管理模态框
        closeCategoryModal.addEventListener('click', () => {
            categoryModal.classList.remove('active');
            newCategoryName.value = '';
        });
        
        // 渲染分类列表
        function renderCategoryList() {
            categoryList.innerHTML = '';
            
            categories.forEach(category => {
                const categoryItem = document.createElement('div');
                categoryItem.className = `category-item ${category.active ? 'active' : ''}`;
                categoryItem.innerHTML = `
                    <span>${category.name}</span>
                    <span class="delete-category">删除</span>
                `;
                
                // 设置活动分类
                categoryItem.querySelector('span').addEventListener('click', () => {
                    setActiveCategory(category.name);
                    renderCategoryList();
                });
                
                // 删除分类
                categoryItem.querySelector('.delete-category').addEventListener('click', (e) => {
                    e.stopPropagation();
                    if (categories.length <= 1) {
                        alert('至少需要保留一个分类');
                        return;
                    }
                    
                    if (confirm(`确定要删除分类 "${category.name}" 吗？`)) {
                        // 删除分类
                        const index = categories.findIndex(c => c.name === category.name);
                        categories.splice(index, 1);
                        
                        // 设置第一个分类为活动分类
                        categories[0].active = true;
                        
                        // 更新笔记分类
                        notes.forEach(note => {
                            if (note.category === category.name) {
                                note.category = categories[0].name;
                            }
                        });
                        
                        // 重新渲染
                        renderCategories();
                        renderNotes();
                        renderCategoryList();
                        updateCategorySelect();
                    }
                });
                
                categoryList.appendChild(categoryItem);
            });
        }
        
        // 添加新分类
        addNewCategoryBtn.addEventListener('click', () => {
            const name = newCategoryName.value.trim();
            
            if (!name) {
                alert('请输入分类名称');
                return;
            }
            
            if (categories.some(c => c.name === name)) {
                alert('该分类已存在');
                return;
            }
            
            // 添加新分类
            categories.push({
                name: name,
                active: false
            });
            
            // 更新UI
            renderCategories();
            renderCategoryList();
            updateCategorySelect();
            
            // 清空输入框
            newCategoryName.value = '';
        });
        
        // 更新笔记表单中的分类选择
        function updateCategorySelect() {
            noteCategory.innerHTML = '';
            
            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.name;
                option.textContent = category.name;
                noteCategory.appendChild(option);
            });
        }
        
        // 点击底部导航项
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', () => {
                // 移除所有active类
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                // 添加active类到点击的导航项
                item.classList.add('active');
                
                if (item.textContent.includes('待办')) {
                    alert('切换到待办功能');
                    // 实际应用中这里会切换到待办列表
                }
            });
        });
        
        // 初始化应用
        initApp();
    </script>
</body>
</html>
